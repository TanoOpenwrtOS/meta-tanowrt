From b0b28e8f227b332aed9c163c013f325f59d2e6f6 Mon Sep 17 00:00:00 2001
From: Anton Kikin <a.kikin@tano-systems.com>
Date: Sat, 22 Jun 2019 06:02:50 +0300
Subject: [PATCH 05/24] service: Add SCHED_IDLE scheduler policy support

Signed-off-by: Anton Kikin <a.kikin@tano-systems.com>
---
 service/instance.c | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/service/instance.c b/service/instance.c
index 4f00445..d07f87b 100644
--- a/service/instance.c
+++ b/service/instance.c
@@ -214,6 +214,7 @@ static const struct policy_info policies[] = {
 	{ "SCHED_RR", SCHED_RR },
 	{ "SCHED_BATCH", SCHED_BATCH },
 	{ "SCHED_DEADLINE", SCHED_DEADLINE },
+	{ "SCHED_IDLE", SCHED_IDLE },
 	{ NULL, 0 }
 };
 
@@ -558,6 +559,9 @@ instance_run(struct service_instance *in, int _stdout, int _stderr)
 				in->srv->name, in->name, in->period);
 			break;
 
+		case SCHED_IDLE:
+			break;
+
 		default:
 			break;
 	}
@@ -1977,6 +1981,9 @@ void instance_dump(struct blob_buf *b, struct service_instance *in, int verbose)
 			blobmsg_add_u64(b, "period", in->period);
 			break;
 
+		case SCHED_IDLE:
+			break;
+
 		default:
 			break;
 	}
-- 
2.28.0.windows.1

